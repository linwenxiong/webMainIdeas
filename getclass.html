<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
<textarea id="textarea"></textarea>
<button onclick="getLevel1Class()">一级获取</button>
<div id="content"></div>
<script>
 const templateStr = `
    <div class="material-box">
        <div class="column-gruop-list">
            <div class="column-gruop-list-title">任务列表</div>
            <div class="column-gruop-list-search">搜索框</div>
            <div class="column-gruop-list-content">
                <div class="column-gruop-list-item">
                    <div class="column-gruop-list-item-header">
                        2024/10/158 19:38
                        <el-button type="primary" size="mini">开始</el-button>
                    </div>
                    <div class="column-gruop-list-item-footer">
                        文件名
                    </div>
                </div>
            </div>
        </div>
        <div class="column-gruop-table">
            table
        </div>
    </div>
 
`;

class GetClassName {
    constructor(template) {
        // 解析模板字符串
        const parser = new DOMParser();
        const doc = parser.parseFromString(template, 'text/html');
        this.elementsWithClass = doc.querySelectorAll('*');
    }
    getClass() {
        // 创建一个 Set 来存储唯一的类名
        const classSet = new Set();
        // 遍历所有带有 class 属性的元素
        this.elementsWithClass.forEach(element => {
            // 获取元素的所有类名
            const classes = element.classList;
            // 将每个类名添加到 Set 中
            classes.forEach(className => classSet.add(className));
        });
        return Array.from(classSet);
    }
}

const dom = new GetClassName(templateStr);

function getLevel1Class() {
    var list = dom.getClass();
    var row = ''
    for (var i = 0; i < list.length; i++) {
        row += '.'+list[i]+'{}<br>'
    } 
    document.getElementById('content').innerHTML = row;
}


  </script>
</body>

</html>