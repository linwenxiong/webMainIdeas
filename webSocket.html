<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

    <script>
        //  连接一次，客户端和服务器就可以建立永久性的连接，进行双向数据的传输；
        //  服务端就可以主动向客户端推送数据
        // 实现信息推送有两种方式：1.传统的ajax轮询，2.webSocket
        // 传统的ajax轮询，需要设置定时器，比如每各1秒钟，不断向服务器发送请求，而一个http请求有可能包含着比较长的头部信息，这样会浪费很多的带宽资源；
        // websocket优点：只需要创建1次连接，就可以进行数据传输,可以更好的节省服务器资源和带宽

        var Socket = new WebSocket("ws:https://www.runoob.com/");

        // Socket连接上会触发fonopen方法
        Socket.onopen = function () {
            // 使用 send() 方法发送数据
            Socket.send("发送数据")
            alert("数据发送中...")
        }
        //onmessage:接受服务器推送过来的数据
        Socket.onmessage = function (evt) {
            var received_msg = evt.data;
            alert("数据已接收...");
        };
        // 关闭 websocket
        Socket.onclose = function () {
            alert("连接已关闭...");
        };
        console.log(Socket)

        // webSocket 的三个回调：onopen()打开，send()发送，onmeaages()接收，onclose()关闭
        
    </script>
</body>

</html>